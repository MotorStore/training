<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<script language="JavaScript" type="text/javascript" src="../core/app/jsUnitCore.js"></script> 
<script language="JavaScript" type="text/javascript" src="http://dev.f2e.netease.com/lib/core.js"></script>
<script language="JavaScript" type="text/javascript" src="http://dev.f2e.netease.com/lib/core_test.js"></script>
<TITLE>encode/decode</TITLE>
<script language="JavaScript">
function setUp(){
	url = 'fb_sig_in_iframe=1&fb_sig_base_domain=happyelements.com&fb_sig_locale=zh_CN&fb_sig_in_new_facebook=1&fb_sig_time=1291601334.3024&fb_sig_added=1&fb_sig_profile_update_time=1289181247&fb_sig_expires=1291608000&fb_sig_user=1819516730&fb_sig_session_key=2.DnTgomu8UGCR5aELhL0BVg__.3600.1291608000-1819516730&fb_sig_ss=KgtdPVCSKnZVaWSK0LoiQw__&fb_sig_cookie_sig=3e2fe3ec84bb4ca842cbb72a95cad289&fb_sig_ext_perms=email&fb_sig_country=kr&fb_sig_api_key=d4dfcb32e7b388ec091af5b989502490&fb_sig_app_id=166394616716486&fb_sig=39a84b81e8f1ceeeec6fd47654fdec1b';

	dataDecode = decode(url);
}
function testDecode(){
	assertEquals("url.fb_sig_time", '1291601334.3024',dataDecode.fb_sig_time); 
	assertEquals("url.fb_sig_base_domain", 'happyelements.com',dataDecode.fb_sig_base_domain);
	assertEquals("url.fb_sig_ext_perms", 'email',dataDecode.fb_sig_ext_perms);  
	assertEquals("url.fb_sig_base_domain2", undefined,dataDecode.fb_sig_base_domain2); 
}
function testEncode(){
	var dataEncode = encode(dataDecode,'&');
	var dataDe2 = decode(dataEncode);
	for(prop in dataDecode){
		assertEquals("dataDecode == dataDe2", true, dataDecode[prop] === dataDe2[prop]);
	}
	//assertEquals("same prop", true, dataDecode.fb_sig_time === dataDe2.fb_sig_time);
}
</script>
</HEAD>

<BODY>
</BODY>
</HTML>