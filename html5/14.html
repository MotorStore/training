<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>post message</title> 
</head> 
 
<body> 

<span id="a"></span>

<iframe src="child.html" frameborder="0" id="child"></iframe>
<iframe src="http://code.163.com/msg.html" frameborder="0" id="child2"></iframe>
<script> 
(function(){
	var target = document.getElementById("child");
	console.log(target.contentWindow)
})();




(function(){
	var target = document.getElementById("child2");
	console.log(target.contentWindow)
})();


window.addEventListener("message",callback,true);
function callback(data){
	var target = document.getElementById('a');
	console.log(data);
	switch(data.origin){
		case "http://code.163.com":
			target.innerHTML += "<br>" + data.data;
			break;
		default:
			//alert(data.data);
	}
}


</script> 
</body> 
</html>