<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="robots" content="all" />
<title>hidePlayer</title>
<style type="text/css">
<!--
@charset "utf-8";
/* CSS Document for music, writed by  at 081222*/
/*common style*/
body{margin:0; padding:0; font-size:12px; font-family:Verdana,'宋体','新宋体',sans-serif; background:#FFF}
ul, ol, li, dl, dd {margin:0; padding:0; list-style:none}
p, form, input {margin:0}
img {border:0}
h1, h2, h3, h4, h5, h6 {margin:0; padding:0}
/*clear float*/
.clearfix:after{ content:"."; height:0; display:block; visibility:hidden; clear:both}
.clearfix{-height:1%; *min-height:1%} /*care the element with the property height*/
a{outline:none;}
/*project style*/
-->
</style>
</head>

<body>
<div id="live_SWF" class="ibioFlashContentWrapper"></div>
<script type="text/javascript" language="javascript" src="http://xfiles.myspace.cn/js/swfobject.js"></script>
<script language="javascript">
var g_hidePlayer;
function createSWF(swfUrl, domId, width, height){
	var swfDomId = domId.replace("_", "");
	var so = new SWFObject(swfUrl, swfDomId, width, height, "9.0.0", "#FFF");
	so.addParam("allowScriptAccess", "always");
	so.addParam("allowNetworking", "all");
	//so.addParam("wmode", "transparent");
	so.addParam("wmode", "window");
	//so.addVariable("uploadURL", escape("http://ibio-d/uploader/service.php"));
	so.write(domId);
	//获得当前swf的句柄
	return getSWF(swfDomId);
}
//
function getSWF(asName) {
  	if(navigator.userAgent.indexOf("IE") != -1) {
  		return window[asName];
	}
 	else{
 		return document[asName];
	}
}

//此函数作用：
//1 当 as 初始化完毕、as 公布的方法可以调用时，将 call 此函数
//2 当返回为 true 时，则表示 js 已经准备好，公布的方法可供 as 调用
function checkIsReady(){
	return true;
}

function onPlaying(){
	alert("歌曲开始播放！");
}

function onLoadComplete(){
	alert("歌曲加载完毕！");
}

function onended(){
	alert("歌曲播放完毕！");
}

function onerror(){
	alert("歌曲加载出错！");
}

//创建 swf
g_hidePlayer = createSWF("hidePlayer.swf?onReady=checkIsReady&onPlaying=onPlaying&onLoadComplete=onLoadComplete&onLoadError=onerror&onPlayComplete=onended", "live_SWF", 300, 500);
</script>
<button onClick="alert(g_hidePlayer.load('http://rm.sina.com.cn/wm/VZ200807031731477717VK/music/MUSIC0807031732007910.mp3', true))">load</button>
<button onClick="alert(g_hidePlayer.playSong(20000))">play by position</button>
<button onClick="alert(g_hidePlayer.playSong())">play</button>
<button onClick="alert(g_hidePlayer.pauseSong())">pause</button>
<button onClick="alert(g_hidePlayer.stopSong())">stop</button>
<br />
<button onClick="alert(g_hidePlayer.setVolume(1))">setVolume 1</button>
<button onClick="alert(g_hidePlayer.setMute(true))">mute</button>
<button onClick="alert(g_hidePlayer.setMute(false))">unmute</button>
<br />
<button onClick="alert(g_hidePlayer.getPosition())">getPosition</button>
<button onClick="alert(g_hidePlayer.getTotalTimes())">getTotalTimes</button>
<button onClick="alert(g_hidePlayer.getLoadProgress())">getLoadProgress</button>
</div>
</body>
</html>
